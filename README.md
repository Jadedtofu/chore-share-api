# Chore Share API
A Node, Express, PostgreSQL back-end for the Chore Share app. This Chore Share database contains a table for Roomies and a table for Chores. Each chore added will have a corresponding ID which will reference the correct Roomie in this database. The API endpoints also enable CRUD operations.
[Live App Demo](https://chore-share-app.now.sh/) | [Front-end Client Repo](https://github.com/Jadedtofu/chore-share-app)

## Technologies Used
- [Express](https://expressjs.com/)
- [Node.js](https://nodejs.org/en/)
- [Nodemon](https://www.npmjs.com/package/nodemon)
- [Dotenv](https://www.npmjs.com/package/dotenv)
- [Morgan](https://www.npmjs.com/package/morgan/v/1.1.1)
- [Helmet](http://helmetjs.github.io)
- [Knex](https://www.npmjs.com/package/knex)
- [Pg](https://www.npmjs.com/package/pg)
- [Postgrator-CLI](https://www.npmjs.com/package/postgrator-cli)
- [Chai](https://www.npmjs.com/package/chai)
- [Mocha](https://www.npmjs.com/package/mocha)
- [Supertest](https://www.npmjs.com/package/supertest)
- [Winston](https://www.npmjs.com/package/)
- [Xss](https://www.npmjs.com/package/xss)

## Database
The API relies on a PSQL database. This will need to be configured for data to be seeded or reset.

# Using the API
The API has endpoints for handling CRUD operations for the roomies and chores. Start the server and use [Postman](https://www.getpostman.com/) or a similar tool to test out the endpoints.

## Roomies Endpoints
**GET** `/roomies` <br>
Returns an array of all Roomies in the database. Example response body:
```
[
        {
            "id": 1,
            "name": "Alice Winchester",
            "note": "Rooming for 4 years, majoring in Biology."
        },
        {
            id: 2,
            "name": "Heather Lamis",
            "note": "Rooming for 1 year, bartender at night."
        }
        ...
]
```

**GET** `/roomies/:roomie_id` <br>
Returns a Roomie corresponding to the correct ID. Example response body:
```
{
        {
            "id": 3,
            "name": "Jane Morrison",
            "note": "Rooming for 2 years, fine artist."
        },
}
```

**POST** `/roomies` <br>
Posts to the Roomies Endpoint and adds a roomie to the database. The ID for each Roomie is generated by the database. Example post request:
```
{
    {
        "name": "Mark Jaris",
        "note": "Rooming for 6 months, temporary stay."
    }
}
```

**DELETE** `/roomies/:roomie_id` <br>
Deletes the Roomie corresponding to the ID from the request. This will not provide a response, but will remove the Roomie and associated Chores from the database.

----

## Chores Endpoints
**GET** `/chores` <br>
Returns an array of all Chores in the database. Example response body:
```
[
        {
            "id": 1, 
            "chore": "Clean the bathroom",
            "checked": false,
            "roomie_id": 1
        },
        {
            "id": 2, 
            "chore": "Fold the laundry",
            "checked": false,
            "roomie_id": 1
        },
        {
            "id": 3, 
            "chore": "Wash the dishes",
            "checked": false,
            "roomie_id": 2
        },
        {
            "id": 4, 
            "chore": "Take out the trash",
            "checked": false,
            "roomie_id": 2
        }
        ...
]
```

**GET** `/chores/:chore_id` <br>
Returns a Chore corresponding to the correct ID. Example response body:
```
{
        {
            "id": 5,
            "chore": "Shine the chrome on sinks",
            "checked": false,
            "roomie_id": 3
        },
}
```

**POST** `/chores` <br>
Posts to the Chores Endpoint and adds a chore to the database corresponding to the Roomie ID. The ID for each Chore is also generated by the database. When preparing the request, "checked" is optional and _false_ by default. Example post request:
```
{
    {
        "chore": "Sweep the floor",
        "roomie_id": 1
    }
}
```

**DELETE** `/chores/:chore_id` <br>
Deletes the Chore corresponding to the ID from the request. This will not provide a response, but will remove the Chore from the database.
